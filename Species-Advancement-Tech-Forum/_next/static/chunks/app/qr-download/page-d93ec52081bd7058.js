(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[559],{325:(e,t,n)=>{"use strict";n.d(t,{default:()=>c});var i=n(5155),r=n(2115),s=n(5695),a=n(2699),o=n.n(a),l=n(4983);function c(){let e=(0,s.useSearchParams)().get("email"),t=(0,r.useRef)(null),[n,a]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!0),[u,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[g,m]=(0,r.useState)(""),[x,v]=(0,r.useState)([]),[y,b]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async()=>{if(!e){p(!1),d(!1);return}let{data:t,error:n}=await l.N.from("sat_forum_registrations").select("first_name, last_name, selected_events").ilike("email",decodeURIComponent(e)).single();if(n||!t)console.error("Supabase error:",n),p(!1);else{p(!0),f("".concat(t.first_name," ").concat(t.last_name));let e=t.selected_events||[],n=e.includes("event1"),i=e.includes("event2"),r="",s=[];n&&i?(b("both"),r="JULY 17&24, 2025",s.push("Eggsponential Progress: The Future of Layer Farming","Pork Forward: Trailblazing the Path to Advanced Swine Production")):n?(b("event1"),r="JULY 17, 2025",s.push("Eggsponential Progress: The Future of Layer Farming")):i&&(b("event2"),r="JULY 24, 2025",s.push("Pork Forward: Trailblazing the Path to Advanced Swine Production")),m(r),v(s)}d(!1)})()},[e]),(0,r.useEffect)(()=>{u&&t.current&&!n&&setTimeout(()=>{o()(t.current,{scale:2,backgroundColor:"transparent",useCORS:!0}).then(t=>{t.toBlob(t=>{if(t){let n=document.createElement("a");n.href=URL.createObjectURL(t),n.download="QR_Page_".concat(e,".png"),document.body.appendChild(n),n.click(),document.body.removeChild(n),a(!0)}},"image/png")})},500)},[u,n,e]),!e)return(0,i.jsx)("div",{style:{color:"#B91C1C",textAlign:"center",padding:"2rem"},children:"No email found in URL."});if(c)return(0,i.jsx)("div",{style:{textAlign:"center",padding:"2rem"},children:"Verifying email..."});if(!u)return(0,i.jsx)("div",{style:{color:"#B91C1C",textAlign:"center",padding:"2rem"},children:"Invalid or unregistered email."});let C="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=".concat(encodeURIComponent(e),"&ecc=H");return(0,i.jsx)("div",{style:{backgroundColor:"transparent",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("div",{ref:t,style:{backgroundColor:"transparent",maxWidth:"360px",width:"100%",paddingBlock:"60px",textAlign:"center",color:"#000",position:"relative"},children:(0,i.jsxs)("div",{style:{position:"relative",width:"100%",height:"auto"},children:[(0,i.jsx)("img",{src:"/assets/Ticket.png",alt:"Ticket",crossOrigin:"anonymous",style:{width:"100%",height:"auto",display:"block"}}),h&&(0,i.jsxs)("div",{style:{position:"absolute",top:"17.5%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"20px",fontWeight:"600",color:"#fff",width:"100%"},children:[h,(0,i.jsx)("br",{}),"Your Registration is Confirmed!"]}),(g||x.length>0)&&(0,i.jsxs)("div",{style:{position:"absolute",top:"51.5%",left:"50%",transform:"translate(-50%, -50%)",width:"event1"===y?"70%":"event2"===y?"90%":"80%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",color:"#fff",rowGap:"event1"===y?"10px":""},children:[(0,i.jsx)("div",{style:{fontSize:"event1"===y||"event2"===y?"18px":"14px",lineHeight:"24px",letterSpacing:"9px",color:"#fff"},children:g}),(0,i.jsx)("div",{style:{fontSize:"event1"===y||"event2"===y?"18px":"12px",fontWeight:"700",whiteSpace:"pre-line",lineHeight:"event1"===y||"event2"===y?"":"20px",color:"#fff",paddingInline:"event1"===y||"event2"===y?"":"30px"},children:x.join("\n")})]}),(0,i.jsxs)("div",{style:{position:"absolute",top:"32.5%",left:"50%",transform:"translate(-50%, -50%)",width:"160px",height:"160px"},children:[(0,i.jsx)("img",{src:C,alt:"QR Code",crossOrigin:"anonymous",style:{width:"100%",height:"100%",display:"block"}}),(0,i.jsx)("img",{src:"/assets/Asset 22 1.png",alt:"Logo",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"35px",height:"35px",backgroundColor:"#fff",borderRadius:"0.25rem",padding:"0.25rem",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})]})]})})})}},3624:(e,t,n)=>{Promise.resolve().then(n.bind(n,325))},4983:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});let i=(0,n(4982).UU)("https://shvutlcgljqiidqxqrru.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNodnV0bGNnbGpxaWlkcXhxcnJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU5MTM2NDgsImV4cCI6MjA2MTQ4OTY0OH0.UXJKk6iIyaVJsohEB6CwwauC21YPez1xwsOFy9qa34Q")},5695:(e,t,n)=>{"use strict";var i=n(8999);n.o(i,"useSearchParams")&&n.d(t,{useSearchParams:function(){return i.useSearchParams}})}},e=>{var t=t=>e(e.s=t);e.O(0,[316,982,441,684,358],()=>t(3624)),_N_E=e.O()}]);